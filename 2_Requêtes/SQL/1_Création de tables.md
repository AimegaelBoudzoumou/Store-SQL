# Création de tables - CREATE

## Table marques

```sql
--marques (nom_marque, date_creation_marque, #matricule_employe_etre_acheteur, #matricule_employe_etre_chef_de_produit)
DROP TABLE marques CASCADE CONSTRAINTS;
CREATE TABLE marques (
    idValue NUMBER GENERATED BY DEFAULT AS IDENTITY,
    nom_marque VARCHAR2(255) NOT NULL,
    date_creation_marque DATE NOT NULL,
    matricule_employe_etre_acheteur VARCHAR2(255) NULL,       -- L'acheteur(se) sera affecté plus tard sur le produit en cours de création.
    matricule_employe_etre_chef_de_produit VARCHAR2(255) NULL,
    PRIMARY KEY (nom_marque)                                  -- L'idéal aurait été de faire en sorte que la clé primaire soit un INT et non un VARCHAR
);
```

## Table gammes
```sql
DROP TABLE gammes;
CREATE TABLE gammes (
    idValue NUMBER GENERATED BY DEFAULT AS IDENTITY,
    nom_gammes VARCHAR2(255) NOT NULL,
    date_creation_gamme DATE NOT NULL,
    nom_marque VARCHAR2(255) NOT NULL -- Une gamme est obligatoirement liées à une marque
);
ALTER TABLE gammes ADD CONSTRAINT FK_nom_marque FOREIGN KEY (nom_marque) REFERENCES marques (nom_marque);
```

## Table categories
```sql
DROP TABLE categories;
CREATE TABLE categories (
    idValue NUMBER GENERATED BY DEFAULT AS IDENTITY,
    nom_categorie VARCHAR2(255),
    date_creation_categorie DATE
);
```

## Produits

Note : Le titre d’un produit est intégré automatique par le SGBD. Voici la syntaxe du titre :
« Fabricant_Marque - Gamme Référence_fabricant »

3 infos :

Fabricant_Marque

Gamme 

Référence_fabricant

```sql
CREATE TABLE employes (
    idValue NUMBER GENERATED BY DEFAULT AS IDENTITY,
    matricule VARCHAR2(50),
    nom VARCHAR2(50),
    prenom VARCHAR2(50),
    full_name VARCHAR2(150) GENERATED ALWAYS AS (
    	prenom || ' ' || nom    
    ),
    PRIMARY KEY(matricule)
);
```

## Gammes

# Bundles
Le numéro de Bundle est généré par le SGBD :

```sql
select floor(dbms_random.value(1, 300)) from dual;

insert into t values (
    'pc portable',
    floor(dbms_random.value(7000000, 7999999))
);
```
